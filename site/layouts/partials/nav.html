{{ $currentPage := . }}

<nav class="flex items-center justify-between bb bg-primary pa2">
	<!-- Logo Section -->
	<div class="flex-shrink-0">
		<a href="/" class="db">
			<img src="/img/logo_2000.webp" alt="{{ .Site.Title }}" class="h2 w-auto"/>
		</a>
	</div>

	<!-- Main Navigation - Center -->
	<div class="flex-grow-1 tc">
		<ul class="flex justify-center items-center list ma0 pa0 nav-main">
			<li class="nav-always"><a href="/" class="pa2 no-underline db {{ if .IsHome }}bg-white primary{{ else }}white{{ end }}">Home</a></li>
			<li class="nav-always"><a href="/success-stories/" class="pa2 no-underline db {{ if or (eq $currentPage.Section "success-stories") }}bg-white primary{{ else }}white{{ end }}">Success Stories</a></li>

			<!-- These items show/hide based on screen size -->
			<li class="nav-responsive nav-show-xl"><a href="/how-it-works/" class="pa2 no-underline db {{ if or (eq $currentPage.Section "how-it-works") }}bg-white primary{{ else }}white{{ end }}">How It Works</a></li>
			<li class="nav-responsive nav-show-lg"><a href="/control-employer/" class="pa2 no-underline db {{ if or (eq $currentPage.Section "control-employer") }}bg-white primary{{ else }}white{{ end }}">Be a Control Employer</a></li>
			<li class="nav-responsive nav-show-md"><a href="/team/" class="pa2 no-underline db {{ if or (eq $currentPage.Section "team") }}bg-white primary{{ else }}white{{ end }}">The Team</a></li>
			<li class="nav-responsive nav-show-sm"><a href="/contact/" class="pa2 no-underline db {{ if or (eq $currentPage.Section "contact") }}bg-white primary{{ else }}white{{ end }}">Contact Us</a></li>
			<li class="nav-responsive nav-show-xs"><a href="/resources/" class="pa2 no-underline db {{ if or (eq $currentPage.Section "resources") }}bg-white primary{{ else }}white{{ end }}">Resources</a></li>

			<li class="nav-always"><a href="/signup/" class="pa2 no-underline db bg-accent white br2">Join the Programme</a></li>

			<!-- More dropdown - shows when items are hidden -->
			<li class="nav-more relative">
				<a href="#" class="pa2 no-underline db white dropdown-toggle">More <span class="sub-arrow">â–¼</span></a>
				<ul class="dropdown-menu absolute bg-white shadow-1 list ma0 pa0 w5 dn top-100 left-0 z-1">
					<li class="nav-hide-xl"><a href="/how-it-works/" class="pa2 no-underline db primary hover-bg-light-gray">How It Works</a></li>
					<li class="nav-hide-lg"><a href="/control-employer/" class="pa2 no-underline db primary hover-bg-light-gray">Be a Control Employer</a></li>
					<li class="nav-hide-md"><a href="/team/" class="pa2 no-underline db primary hover-bg-light-gray">The Team</a></li>
					<li class="nav-hide-sm"><a href="/contact/" class="pa2 no-underline db primary hover-bg-light-gray">Contact Us</a></li>
					<li class="nav-hide-xs"><a href="/resources/" class="pa2 no-underline db primary hover-bg-light-gray">Resources</a></li>
				</ul>
			</li>
		</ul>
	</div>

	<!-- Social Icons Section - Right -->
	<div class="flex-shrink-0">
		{{ range .Site.Data.navigation.social }}
		<a href="{{ .url }}" target="_blank" title="{{ .platform }}" class="white pa2 dib">
			<div class="w1 h1">{{ .svg | safeHTML }}</div>
		</a>
		{{ end }}
	</div>
</nav>

<style>
	/* Default: Hide More dropdown, show all nav items */
	.nav-more { display: none; }
	.nav-hide-xl, .nav-hide-lg, .nav-hide-md, .nav-hide-sm, .nav-hide-xs { display: none; }

	/* XL screens (1400px+) - show everything */
	@media (min-width: 1400px) {
		.nav-show-xl { display: block; }
	}

	/* Large screens (1200px+) - hide "How It Works" */
	@media (max-width: 1399px) {
		.nav-show-xl { display: none; }
		.nav-hide-xl { display: block; }
		.nav-more { display: block; }
	}

	/* Medium screens (1000px+) - also hide "Be a Control Employer" */
	@media (max-width: 1199px) {
		.nav-show-lg { display: none; }
		.nav-hide-lg { display: block; }
	}

	/* Small screens (800px+) - also hide "The Team" */
	@media (max-width: 999px) {
		.nav-show-md { display: none; }
		.nav-hide-md { display: block; }
	}

	/* XS screens (600px+) - also hide "Contact Us" */
	@media (max-width: 799px) {
		.nav-show-sm { display: none; }
		.nav-hide-sm { display: block; }
	}

	/* Mobile screens - also hide "Resources" */
	@media (max-width: 599px) {
		.nav-show-xs { display: none; }
		.nav-hide-xs { display: block; }
	}

	/* Dropdown styles */
	.dropdown-toggle:hover + .dropdown-menu,
	.dropdown-menu:hover {
		display: block !important;
	}

	.hover-bg-light-gray:hover {
		background-color: #f4f4f4;
	}

	.sub-arrow {
		font-size: 0.8em;
		margin-left: 0.25rem;
	}
</style>